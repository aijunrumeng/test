<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
</head>
<body>
	
</body>
<script type="text/javascript">
	//1求和
	var arr = [1, 2, 4, 3, 0];
	//作为第一次调用 callback函数时的第一个参数的值。 如果没有提供初始值，则将使用数组中的第一个元素。 在没有初始值的空数组上调用 reduce 将报错。
	var res = arr.reduce(function(pre, cur, index, arr){
		console.log(pre, cur)
		return pre + cur
	});
	console.log(res)
	//2.将二维数组转化为一维数组
	var flattened = [[0,1],[2,3],[4,5]].reduce((ini,cur) => ini.concat(cur),[]);
	console.log(flattened); // [0, 1, 2, 3, 4, 5]
	//3.计算数组中每个元素出现的次数
	var list = ["a","b","c","d","a","a","c"];
	var res = list.reduce((res,cur) => {
		res.cur  //一直时undefined
		if(res[cur]){
			res[cur]++
		}else{
			res[cur] = 1
		}
		return res
	},{});
	console.log(res)  //{a: 3, b: 1, c: 2, d: 1}
	//4.按属性对object分类
	var objs = [
		{name: "aa", age: 20},
		{name: "bb", age: 21},
		{name: "cc", age: 20},
		{name: "aa", age: 22}
	];
	function groupBy(objs,prop){
		return objs.reduce((init,cur) => {
			var key = cur[prop];
			if(!init[key]){
				init[key] = []
			}
			init[key].push(cur);
			return init
		}, {})
	}
	var byAges = groupBy(objs, "age");
	var byName = groupBy(objs, "name");
	console.log(byAges, byName);
</script>
</html>